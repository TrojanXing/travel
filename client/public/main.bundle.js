webpackJsonp(["main"],{

/***/ "./node_modules/moment/locale recursive ^\\.\\/.*$":
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};
function webpackContext(req) {
	return __webpack_require__(webpackContextResolve(req));
};
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) // check for number or string
		throw new Error("Cannot find module '" + req + "'.");
	return id;
};
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale recursive ^\\.\\/.*$";

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncatched exception popping up in devtools
	return Promise.resolve().then(function() {
		throw new Error("Cannot find module '" + req + "'.");
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./src/app/app.component.css":
/***/ (function(module, exports) {

module.exports = ".container {\n  position: relative;\n}\n\n.alert {\n  margin-top: 80px;\n}\n\n.pagination_btn {\n  width: 100px;\n}\n\n.clickable {\n  cursor: pointer;\n}\n"

/***/ }),

/***/ "./src/app/app.component.html":
/***/ (function(module, exports) {

module.exports = "<app-search\r\n  (onFormSubmitted)=\"nearby_search($event)\"\r\n  (onFormCleared)=\"hideAll()\"\r\n></app-search>\r\n\r\n<div class=\"container col-md-10 col-sm-12 mt-4\">\r\n\r\n  <ul class=\"nav nav-pills row justify-content-center\">\r\n    <li class=\"nav-item\"><a class=\"nav-link active\" href=\"#results_table\" data-toggle=\"tab\">Result</a></li>\r\n    <li class=\"nav-item\"><a class=\"nav-link\" href=\"#favorites\" data-toggle=\"tab\">Favorite</a></li>\r\n  </ul>\r\n\r\n  <!--Prograss Bar-->\r\n  <div class=\"progress\" style=\"margin-top: 40px\" [hidden]=\"!searching\">\r\n    <div class=\"progress-bar progress-bar-striped progress-bar-animated\" role=\"progressbar\" aria-valuenow=\"50\" aria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width: 50%\"></div>\r\n  </div>\r\n\r\n  <div class=\"alert alert-danger\" role=\"alert\" *ngIf=\"search_err\" >\r\n    Fail to get search result\r\n  </div>\r\n\r\n  <!--Table for search result and favorites-->\r\n  <div class=\"tab-content col-12\" [@table_display_status]=\"table_display_status\">\r\n    <div class=\"tab-pane fade show active col-12\" id=\"results_table\">\r\n      <app-table\r\n        [display_content]=\"display_content\"\r\n        [favorites]=\"favoritePlaces\"\r\n        [focused_place]=\"focusd_place\"\r\n        [isResult]=\"true\"\r\n        (onFavoriteChanged)=\"addOrRemoveFavorite($event)\"\r\n        (onDetailRequired)=\"requestDetail($event)\"></app-table>\r\n\r\n      <!--Pagination button-->\r\n      <div class=\"row justify-content-center\" role=\"group\" style=\"margin-left: auto; margin-right: auto;\">\r\n        <button type=\"button\" class=\"btn btn-outline-secondary mr-2 pagination_btn\" (click)=\"getPrevious()\" [hidden]=\"currentPage == 0\">Previous</button>\r\n        <button type=\"button\" class=\"btn btn-outline-secondary pagination_btn\" (click)=\"getNextPage()\" [hidden]=\"!hasNext\">Next</button>\r\n      </div>\r\n\r\n    </div>\r\n    <div class=\"tab-pane fade col-12\" id=\"favorites\">\r\n      <app-table\r\n        [display_content]=\"favoritePlaces\"\r\n        [isResult]=\"false\"\r\n        [focused_place]=\"focusd_place\"\r\n        (onFavoriteChanged)=\"addOrRemoveFavorite($event)\"\r\n        (onDetailRequired)=\"requestDetail($event)\"></app-table>\r\n    </div>\r\n  </div>\r\n\r\n  <!--Detail-->\r\n  <div class=\"container\" [@detail_display_status]=\"detail_display_status\">\r\n    <app-detail\r\n      [place]=\"focusd_place\"\r\n      [display_status]=\"detail_display_status\"\r\n      [favorites]=\"favoritePlaces\"\r\n      [detail]=\"detail\"\r\n      (onDetailHidden)=\"showTable()\"\r\n      (onFavoriteChanged)=\"addOrRemoveFavorite($event)\"\r\n      (onDetailObtained)=\"sendDetail($event)\"\r\n    ></app-detail>\r\n  </div>\r\n\r\n  <div id=\"map_test\"></div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/app.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_search_search_component__ = __webpack_require__("./src/app/components/search/search.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_request_service__ = __webpack_require__("./src/app/service/request.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_animations__ = __webpack_require__("./node_modules/@angular/animations/esm5/animations.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var AppComponent = /** @class */ (function () {
    function AppComponent(request) {
        this.request = request;
        this.favoritePlaces = [];
        this.currentPage = 0;
        this.search_results = {};
        this.searching = false;
        this.detail_display_status = 'hide';
        this.table_display_status = 'hide';
        this.search_err = false;
    }
    /**
     * nearby search
     */
    AppComponent.prototype.nearby_search = function (form) {
        var _this = this;
        this.searching = true;
        this.request.searchPlaces(form).subscribe(function (data) {
            if (data['status'] === 'OK') {
                _this.searching = false;
                _this.search_results[_this.currentPage] = data;
                _this.display_content = data['results'];
                _this.hasNext = !!data['next_page_token'];
                _this.showTable();
                _this.search_err = false;
                console.log('nearby search success');
            }
            else {
                _this.search_err = true;
                _this.hideAll();
            }
            //console.log(data);
        });
    };
    AppComponent.prototype.addOrRemoveFavorite = function (place) {
        var favorites = JSON.parse(localStorage.getItem('favorite')) || { 'favorites': [] };
        //console.log(favorites);
        var ind = favorites['favorites'].findIndex(function (elem) {
            return elem.id === place.id;
        });
        if (ind !== -1) {
            favorites['favorites'].splice(ind, 1);
            console.log("favorite removed");
        }
        else {
            favorites['favorites'].push(place);
            console.log("favorite added");
        }
        localStorage.setItem('favorite', JSON.stringify(favorites));
        this.favoritePlaces = favorites['favorites'];
    };
    AppComponent.prototype.requestDetail = function (place) {
        this.focusd_place = place ? place : this.focusd_place;
        console.log("Focused place changed: " + this.focusd_place.name);
        this.showDetail();
    };
    AppComponent.prototype.showTable = function () {
        this.detail_display_status = 'hide';
        this.table_display_status = 'show';
    };
    AppComponent.prototype.sendDetail = function (detail) {
        console.log("Detail changed noticed: " + detail['name']);
        this.detail = detail;
    };
    AppComponent.prototype.showDetail = function () {
        this.detail_display_status = 'show';
        this.table_display_status = 'hide';
    };
    AppComponent.prototype.hideAll = function () {
        this.detail_display_status = 'hide';
        this.table_display_status = 'hide';
    };
    AppComponent.prototype.getPrevious = function () {
        this.currentPage--;
        this.display_content = this.search_results[this.currentPage]['results'];
        this.hasNext = true;
    };
    AppComponent.prototype.getNextPage = function () {
        var _this = this;
        var c = this.search_results[this.currentPage];
        this.currentPage++;
        if (this.search_results[this.currentPage]) {
            this.display_content = this.search_results[this.currentPage]['results'];
            this.hasNext = !!this.search_results[this.currentPage]['next_page_token'];
        }
        else {
            this.request.getNextPage(c['next_page_token']).subscribe(function (data) {
                _this.search_results[_this.currentPage] = data;
                _this.display_content = data['results'];
                _this.hasNext = !!data['next_page_token'];
            });
        }
    };
    AppComponent.prototype.ngOnInit = function () {
        var favorites = JSON.parse(localStorage.getItem('favorite')) || { 'favorites': [] };
        this.favoritePlaces = favorites['favorites'];
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_4" /* ViewChild */])(__WEBPACK_IMPORTED_MODULE_1__components_search_search_component__["a" /* SearchComponent */]),
        __metadata("design:type", Object)
    ], AppComponent.prototype, "search", void 0);
    AppComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'app-root',
            template: __webpack_require__("./src/app/app.component.html"),
            styles: [__webpack_require__("./src/app/app.component.css")],
            animations: [
                Object(__WEBPACK_IMPORTED_MODULE_3__angular_animations__["j" /* trigger */])('detail_display_status', [
                    Object(__WEBPACK_IMPORTED_MODULE_3__angular_animations__["g" /* state */])('show', Object(__WEBPACK_IMPORTED_MODULE_3__angular_animations__["h" /* style */])({
                        position: 'absolute',
                        top: 40,
                        left: 0,
                    })),
                    Object(__WEBPACK_IMPORTED_MODULE_3__angular_animations__["g" /* state */])('hide', Object(__WEBPACK_IMPORTED_MODULE_3__angular_animations__["h" /* style */])({
                        position: 'absolute',
                        top: 40,
                        left: '-100%',
                        display: 'none'
                    })),
                    // transition('show => hide', animate('1000ms ease-in')),
                    Object(__WEBPACK_IMPORTED_MODULE_3__angular_animations__["i" /* transition */])('hide => show', Object(__WEBPACK_IMPORTED_MODULE_3__angular_animations__["e" /* animate */])('500ms ease-in')),
                ]),
                Object(__WEBPACK_IMPORTED_MODULE_3__angular_animations__["j" /* trigger */])('table_display_status', [
                    Object(__WEBPACK_IMPORTED_MODULE_3__angular_animations__["g" /* state */])('show', Object(__WEBPACK_IMPORTED_MODULE_3__angular_animations__["h" /* style */])({
                        position: 'absolute',
                        top: 40,
                        left: 0,
                    })),
                    Object(__WEBPACK_IMPORTED_MODULE_3__angular_animations__["g" /* state */])('hide', Object(__WEBPACK_IMPORTED_MODULE_3__angular_animations__["h" /* style */])({
                        position: 'absolute',
                        top: 40,
                        left: '100%',
                        display: 'none'
                    })),
                    Object(__WEBPACK_IMPORTED_MODULE_3__angular_animations__["i" /* transition */])('hide => show', Object(__WEBPACK_IMPORTED_MODULE_3__angular_animations__["e" /* animate */])('500ms ease-in')),
                ])
            ],
            encapsulation: __WEBPACK_IMPORTED_MODULE_0__angular_core__["_6" /* ViewEncapsulation */].None
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__service_request_service__["a" /* RequestService */]])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser_animations__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/animations.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__app_component__ = __webpack_require__("./src/app/app.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__components_search_search_component__ = __webpack_require__("./src/app/components/search/search.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__service_request_service__ = __webpack_require__("./src/app/service/request.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__components_table_table_component__ = __webpack_require__("./src/app/components/table/table.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__agm_core__ = __webpack_require__("./node_modules/@agm/core/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__components_detail_detail_component__ = __webpack_require__("./src/app/components/detail/detail.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};












var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["F" /* NgModule */])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_5__app_component__["a" /* AppComponent */],
                __WEBPACK_IMPORTED_MODULE_6__components_search_search_component__["a" /* SearchComponent */],
                __WEBPACK_IMPORTED_MODULE_8__components_table_table_component__["a" /* TableComponent */],
                __WEBPACK_IMPORTED_MODULE_10__components_detail_detail_component__["a" /* DetailComponent */]
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__["a" /* BrowserModule */],
                __WEBPACK_IMPORTED_MODULE_2__angular_common_http__["b" /* HttpClientModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_forms__["b" /* FormsModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_forms__["c" /* ReactiveFormsModule */],
                __WEBPACK_IMPORTED_MODULE_9__agm_core__["a" /* AgmCoreModule */].forRoot({
                    apiKey: "AIzaSyBN20SIlF5X2epJryqAvSNXBLpifLKu5fM",
                    libraries: ["places"]
                }),
                __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser_animations__["a" /* BrowserAnimationsModule */],
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_7__service_request_service__["a" /* RequestService */]
            ],
            bootstrap: [__WEBPACK_IMPORTED_MODULE_5__app_component__["a" /* AppComponent */]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/components/detail/detail.component.css":
/***/ (function(module, exports) {

module.exports = ".show_map_content {\r\n  height: 400px;\r\n}\r\n\r\n.hide_map_content {\r\n  height: 0;\r\n}\r\n\r\ni {\r\n  width: 18px;\r\n  height: 16px;\r\n}\r\n"

/***/ }),

/***/ "./src/app/components/detail/detail.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container\">\n\n  <div class=\"h3 text-center mt-4\">{{ detail?.name }}</div>\n\n  <div class=\"title_container\">\n    <button class=\"btn btn-outline-secondary\" (click)=\"hideDetail()\"><i class=\"fas fa-angle-left\"></i> List</button>\n    <img class=\"float-right clickable\" src=\"http://cs-server.usc.edu:45678/hw/hw8/images/Twitter.png\" style=\"width: 40px; height: 40px;\" (click)=\"composeTweet()\">\n    <button class=\"btn btn-outline-secondary float-right mr-2\" style=\"width: 40px; height: 40px;\" (click)=\"addOrRemoveFavorite()\">\n      <i *ngIf=\"!checkIfInFavorite()\" class=\"far fa-star\"></i>\n      <i *ngIf=\"checkIfInFavorite()\" class=\"fas fa-star\" style=\"color: gold\"></i>\n    </button>\n  </div>\n\n  <!--Tab * 4-->\n  <div class=\"tab_container mt-4\">\n    <ul class=\"nav nav-tabs row justify-content-end\">\n      <li class=\"nav-item\">\n        <a class=\"nav-link active\" href=\"#info\" data-toggle=\"tab\">Info</a>\n      </li>\n      <li class=\"nav-item\">\n        <a class=\"nav-link\" href=\"#photos\" data-toggle=\"tab\">Photos</a>\n      </li>\n      <li class=\"nav-item\">\n        <a class=\"nav-link\" href=\"#map_container\" data-toggle=\"tab\">Map</a>\n      </li>\n      <li class=\"nav-item\">\n        <a class=\"nav-link\" href=\"#reviews\" data-toggle=\"tab\">Reviews</a>\n      </li>\n    </ul>\n  </div>\n\n  <div class=\"tab-content mt-3\">\n    <!--Info-->\n    <div class=\"tab-pane fade show active mt-3\" id=\"info\">\n      <table class=\"table table-striped\">\n        <tbody>\n          <tr *ngIf=\"detail && detail['formatted_address']\"><th scope=\"row\">Address</th><td>{{ (detail)?.formatted_address }}</td></tr>\n          <tr *ngIf=\"detail && detail['international_phone_number']\"><th scope=\"row\">Phone Number</th><td>{{ (detail)?.international_phone_number }}</td></tr>\n          <tr *ngIf=\"detail && detail['price_level']\"><th scope=\"row\">Price Level</th><td>{{ calcPriceLevel((detail)?.price_level) }}</td></tr>\n          <tr *ngIf=\"detail && detail['rating']\">\n            <th scope=\"row\">Rating</th>\n            <td>{{ (detail)?.rating }}\n              <div [ngStyle]=\"{'overflow': 'hidden', 'width.px': 18*(detail)?.rating, 'display': 'inline-block'}\"><div style=\"overflow: hidden; width: 100px; height: 20px;\"><i *ngFor=\"let n of createArr(5)\" class=\"fas fa-star\" style=\"color: gold\"></i></div></div>\n            </td>\n          </tr>\n          <tr *ngIf=\"detail && detail['url']\"><th scope=\"row\">Google Page</th><td><a href=\"{{ (detail)?.url }}\" target=\"_blank\">{{ (detail)?.url }}</a></td></tr>\n          <tr *ngIf=\"detail && detail['website']\"><th scope=\"row\">Website</th><td><a href=\"{{ (detail)?.website }}\" target=\"_blank\">{{ (detail)?.website }}</a></td></tr>\n          <tr *ngIf=\"detail && detail['opening_hours']\"><th scope=\"row\">Hours</th><td>{{ checkOpenStatus(detail?.opening_hours) }}\n            <button type=\"button\" class=\"btn btn-link\" data-toggle=\"modal\" data-target=\"#open_hour\">\n              Open Hour\n            </button>\n          </td></tr>\n        </tbody>\n      </table>\n    </div>\n\n    <!--photo-->\n    <div class=\"tab-pane fade mt-3 row\" id=\"photos\">\n      <div class=\"alert alert-warning\" role=\"alert\" *ngIf=\"!photos || photos.length === 0\" >\n        No records.\n      </div>\n      <div class=\"container-fluid row\">\n        <div *ngFor=\"let col of photo_col\" class=\"col-md-3\" style=\"padding: 0\">\n          <div *ngFor=\"let photo of col\" class=\"mt-2 mr-2\">\n            <a href=\"{{ photo }}\" target=\"_blank\"><img src=\"{{photo}}\" alt=\"\" style=\"width: 100%\"></a>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!--map-container-->\n    <div class=\"tab-pane fade mt-3 container\" id=\"map_container\">\n      <form class=\"row\" [formGroup]=\"form\" (submit)=\"calcRoute($event)\">\n        <div class=\"form-group col-md-3\">\n          <label for=\"start_loc_route\">From</label>\n          <input class=\"form-control\" formControlName=\"start_loc_route\" type=\"text\" id=\"start_loc_route\">\n        </div>\n\n        <div class=\"form-group col-md-3\">\n          <label for=\"end_route\">To</label>\n          <input class=\"form-control\" formControlName=\"end_route\" type=\"text\" id=\"end_route\" disabled value=\"{{ detail?.formatted_address }}\">\n        </div>\n\n        <div class=\"form-group col-md-3\">\n          <label for=\"travel_mode\">Travel Mode</label>\n          <select id=\"travel_mode\" class=\"form-control customer-select\" formControlName=\"travel_mode\" >\n            <option *ngFor=\"let mode of travel_modes\" [value]=\"mode\">\n              {{ capitalize(mode) }}\n            </option>\n          </select>\n        </div>\n\n        <div class=\"form-group col-md-3 align-bottom\">\n          <!--<label for=\"search\">&nbsp;</label>-->\n          <button class=\"btn btn-primary\" type=\"submit\" name=\"search\" id=\"search\"\n                  style=\"position: absolute; bottom: 0;\"\n                  [ngClass]=\"{\n                    'is-invalid': form.controls.start_loc_route.errors && form.controls.start_loc_route.dirty,\n                    'is-valid': !form.controls.start_loc_route.errors}\"\n                  [disabled]=\"!form.valid\">Get Direction</button>\n        </div>\n\n      </form>\n\n      <div style=\"width: 40px; height: 40px;\" class=\"mb-2 clickable\" (click)=\"toggleMapContent()\">\n        <img *ngIf=\"showMap\" src=\"http://cs-server.usc.edu:45678/hw/hw8/images/Map.png\" style=\"width: 100%; height: 100%\" alt=\"\">\n        <img *ngIf=\"!showMap\" src=\"http://cs-server.usc.edu:45678/hw/hw8/images/Pegman.png\" style=\"width: 100%; height: 100%\" alt=\"\" >\n      </div>\n\n      <div id=\"map\" [ngClass]=\"{'show_map_content': showMap, 'hide_map_content': !showMap}\"></div>\n      <div id=\"streetView\" [ngClass]=\"{'show_map_content': !showMap, 'hide_map_content': showMap}\"></div>\n\n      <!--show detail routes-->\n      <div id=\"detail_routes\"></div>\n    </div>\n\n    <!--reviews-->\n    <div class=\"tab-pane fade mt-3\" id=\"reviews\">\n        <div class=\"dropdown d-inline-block\">\n          <button class=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton1\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n            {{ review_origin }}\n          </button>\n          <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\">\n            <a class=\"dropdown-item\" href=\"#\" (click)=\"changeReviewOrigin(true)\">Google Reviews</a>\n            <a class=\"dropdown-item\" href=\"#\" (click)=\"changeReviewOrigin(false)\">Yelp Reviews</a>\n          </div>\n        </div>\n\n        <div class=\"dropdown d-inline-block\">\n          <button class=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton2\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n            {{ order_method }}\n          </button>\n          <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton2\">\n            <a class=\"dropdown-item\" href=\"#\" (click)=\"reviews_order(0)\">Default\tOrder</a>\n            <a class=\"dropdown-item\" href=\"#\" (click)=\"reviews_order(1)\">Highest Rating</a>\n            <a class=\"dropdown-item\" href=\"#\" (click)=\"reviews_order(2)\">Lowest\tRating</a>\n            <a class=\"dropdown-item\" href=\"#\" (click)=\"reviews_order(3)\">Most Recent</a>\n            <a class=\"dropdown-item\" href=\"#\" (click)=\"reviews_order(4)\">Least\tRecent</a>\n          </div>\n        </div>\n\n      <div class=\"alert alert-warning\" role=\"alert\"\n           *ngIf=\"(review_origin === 'Google Reviews' && (!google_reviews || google_reviews.length === 0)) ||\n           (review_origin === 'Yelp Reviews' && (!yelp_reviews || yelp_reviews.length === 0))\" >\n        No records.\n      </div>\n\n      <!--Google reviews-->\n      <div class=\"container\" *ngIf=\"review_origin === 'Google Reviews' && google_reviews\" >\n        <div class=\"card mt-2\" *ngFor=\"let review of google_reviews\">\n          <div class=\"card-body row\">\n            <div class=\"col-md-2\">\n              <img src=\"{{ review['profile_photo_url']}}\" style=\"max-width: 50px;\">\n            </div>\n            <div class=\"col-md-10\">\n              <div><a href=\"{{ review['author_url'] }}\" target=\"_blank\">{{ review['author_name']}}</a></div>\n              <div>\n                <span><i *ngFor=\"let n of createArr(review['rating'])\" class=\"fas fa-star\" style=\"color: gold\"></i></span>\n                <span> {{ formatDate(review['time']) }}</span>\n              </div>\n              <div>{{ review['text'] }}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!--Yelp reviews-->\n      <div class=\"container\" *ngIf=\"review_origin === 'Yelp Reviews' && yelp_reviews\">\n        <div class=\"card mt-2\" *ngFor=\"let review of yelp_reviews\">\n          <div class=\"card-body row\">\n            <div class=\"col-md-2\">\n              <img src=\"{{ review?.user['image_url'] }}\" style=\"max-width: 50px;\">\n            </div>\n            <div class=\"col-md-10\">\n              <div><a href=\"{{ review?.url }}\" target=\"_blank\">{{ review?.user['name']}}</a></div>\n              <div><span><i *ngFor=\"let n of createArr(review?.rating)\" class=\"fas fa-star\" style=\"color: gold\"></i></span><span> {{ review?.time_created }}</span> </div>\n              <div>{{ review?.text }}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    </div> <!-- Reviews -->\n  </div>\n\n  <!-- Modal -->\n  <div class=\"modal fade\" id=\"open_hour\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n    <div class=\"modal-dialog\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">Open Hour</h5>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <table class=\"table\">\n            <tbody>\n            <tr *ngFor=\"let text of opening_hours['weekday_text']; let i = index \"\n                [ngClass]=\"{'font-weight-bold': checkWeekday(i)}\">\n              <td>{{ text.split(\":\")[0] }}</td>\n              <td>{{ formatOpenTime(text) }}</td>\n            </tr>\n            </tbody>\n          </table>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>\n\n\n"

/***/ }),

/***/ "./src/app/components/detail/detail.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DetailComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment__ = __webpack_require__("./node_modules/moment/moment.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__service_request_service__ = __webpack_require__("./src/app/service/request.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var DetailComponent = /** @class */ (function () {
    function DetailComponent(elementRef, formBuilder, request) {
        this.elementRef = elementRef;
        this.formBuilder = formBuilder;
        this.request = request;
        this.display_status = 'hide';
        this.onDetailHidden = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* EventEmitter */]();
        this.onFavoriteChanged = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* EventEmitter */]();
        this.onDetailObtained = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* EventEmitter */]();
        this.showMap = true;
        this.travel_modes = ['DRIVING', 'BICYCLING', 'TRANSIT', 'WALKING'];
        this.google_reviews = [];
        this.yelp_reviews = [];
        this.review_origin = 'Google Reviews'; //True for google, false for yelp
        this.order_method = 'Default Order';
        this.order_methods = ['Default Order', 'Highest Rating', 'Lowest Rating', 'Most recent', 'Least Recent'];
        this.photo_col = [[], [], [], []];
        this.utl_arr = [[1], [1, 1], [1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1, 1]];
        this.weekday = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];
        this.opening_hours = [];
        this.createForm();
    }
    /**
     *  Calculate route
     */
    DetailComponent.prototype.createForm = function () {
        this.form = this.formBuilder.group({
            start_loc_route: ['Your location', __WEBPACK_IMPORTED_MODULE_1__angular_forms__["d" /* Validators */].compose([
                    __WEBPACK_IMPORTED_MODULE_1__angular_forms__["d" /* Validators */].required,
                    this.startLocValidator
                ])],
            end_route: [],
            travel_mode: ['DRIVING'],
        });
    };
    DetailComponent.prototype.startLocValidator = function (controls) {
        if (controls.value && controls.value.trim().length != 0) {
            return null;
        }
        else {
            return { 'keywordValidator': true };
        }
    };
    DetailComponent.prototype.calcRoute = function (e) {
        var _this = this;
        e.preventDefault();
        var origin = this.form.get('start_loc_route').value === 'Your location' ? localStorage.getItem('client_loc') : this.elementRef.nativeElement.querySelector('#start_loc_route').value;
        var request = {
            origin: origin,
            destination: this.detail.formatted_address,
            travelMode: this.form.get('travel_mode').value,
            provideRouteAlternatives: true
        };
        //console.log(request);
        this.marker.setMap(null);
        this.directionsService.route(request, function (result, status) {
            if (status === 'OK') {
                _this.directionsDisplay.setDirections(result);
            }
            else {
                console.log('Something wrong, cannot get route');
            }
        });
    };
    DetailComponent.prototype.toggleMapContent = function () {
        this.showMap = !this.showMap;
    };
    /**
     * Info section
     */
    DetailComponent.prototype.calcPriceLevel = function (price_level) {
        if (!price_level)
            return '';
        var str = '';
        for (var i = 0; i < price_level; i++) {
            str += '$';
        }
        return str;
    };
    /**
     * Review section
     */
    DetailComponent.prototype.changeReviewOrigin = function (origin) {
        if (origin) {
            this.review_origin = 'Google Reviews';
        }
        else {
            this.review_origin = 'Yelp Reviews';
        }
    };
    DetailComponent.prototype.getYelpReviews = function () {
        var _this = this;
        var data = {};
        console.log(this.detail);
        if (this.detail && this.detail['address_components']) {
            data['name'] = this.detail['name'];
            this.detail['address_components'].forEach(function (addr) {
                if (addr['types'].includes('country')) {
                    data['country'] = addr['short_name'];
                }
                if (addr['types'].includes('administrative_area_level_1')) {
                    data['state'] = addr['short_name'];
                }
                if (addr['types'].includes('administrative_area_level_2')) {
                    data['city'] = addr['short_name'];
                }
            });
            data['address'] = this.detail['formatted_address'];
            this.request.getYelp(data).subscribe(function (reviews) {
                _this.yelp_detail = reviews;
                _this.yelp_reviews = reviews['reviews'].slice();
                console.log(_this.yelp_reviews);
            });
        }
    };
    DetailComponent.prototype.reviews_order = function (mode) {
        switch (mode) {
            //Default Order
            case 0:
                this.google_reviews = this.detail.reviews.slice();
                this.yelp_reviews = this.yelp_reviews.slice();
                this.order_method = this.order_methods[0];
                break;
            //Highest Rating
            case 1:
                this.yelp_reviews.sort(function (a, b) {
                    return b.rating - a.rating;
                });
                this.google_reviews.sort(function (a, b) {
                    return b.rating - a.rating;
                });
                this.order_method = this.order_methods[1];
                break;
            //Lowest Rating
            case 2:
                this.yelp_reviews.sort(function (a, b) {
                    return a.rating - b.rating;
                });
                this.google_reviews.sort(function (a, b) {
                    return a.rating - b.rating;
                });
                this.order_method = this.order_methods[2];
                break;
            //Most Recent
            case 3:
                this.yelp_reviews.sort(function (a, b) {
                    var date1 = new Date(a.time_created);
                    var date2 = new Date(b.time_created);
                    return date2.getTime() - date1.getTime();
                });
                this.google_reviews.sort(function (a, b) {
                    return b.time - a.time;
                });
                this.order_method = this.order_methods[3];
                break;
            //Least Recent
            case 4:
                this.yelp_reviews.sort(function (a, b) {
                    var date1 = new Date(a.time_created);
                    var date2 = new Date(b.time_created);
                    return date1.getTime() - date2.getTime();
                });
                this.google_reviews.sort(function (a, b) {
                    return a.time - b.time;
                });
                this.order_method = this.order_methods[4];
                break;
            default:
                this.google_reviews = this.detail.reviews.slice();
                this.yelp_reviews = this.yelp_reviews.slice();
                this.order_method = this.order_methods[0];
        }
    };
    /**
     * Utility
     */
    DetailComponent.prototype.capitalize = function (str) {
        return str[0].toUpperCase() + str.substring(1).toLowerCase();
    };
    DetailComponent.prototype.formatOpenTime = function (str) {
        var arr = str.split(" ");
        arr.splice(0, 1);
        return arr.join(" ");
    };
    DetailComponent.prototype.formatDate = function (time) {
        return __WEBPACK_IMPORTED_MODULE_2_moment__(time * 1000).format('YYYY-MM-DD HH:mm:ss');
    };
    DetailComponent.prototype.checkWeekday = function (i) {
        var now = __WEBPACK_IMPORTED_MODULE_2_moment__().utc().local();
        return i == now.weekday() - 1;
        // return str.split(':')[0] === this.weekday[today.getUTCDay()-1];
    };
    DetailComponent.prototype.checkOpenStatus = function (opening_hours) {
        if (!opening_hours)
            return '';
        var now = __WEBPACK_IMPORTED_MODULE_2_moment__().utc().local();
        var today_period = opening_hours['periods'][now.weekday() % 7];
        var today_open = __WEBPACK_IMPORTED_MODULE_2_moment__().utc().local().set({
            'hour': today_period['open']['time'].substring(0, 2),
            'minute': today_period['open']['time'].substring(2, 4)
        });
        var today_close = __WEBPACK_IMPORTED_MODULE_2_moment__().utc().local().set({
            'hour': today_period['close']['time'].substring(0, 2),
            'minute': today_period['close']['time'].substring(2, 4)
        });
        if (now.isBefore(today_close) && now.isAfter(today_open)) {
            return "Open now: " + opening_hours['weekday_text'][now.weekday() - 1];
        }
        else {
            return "Closed";
        }
    };
    /**
     * Tweet section
     */
    DetailComponent.prototype.composeTweet = function () {
        var text = "Check+out+" + this.detail['name'] + "+located+at+" + this.detail['formatted_address'] + ". Website: " + (this.detail['website'] || this.detail['url']) + "&via=TravelAndEntertainmentSearch";
        window.open("https://twitter.com/intent/tweet?text=" + text, "Tweet", "height=400,width=800");
    };
    DetailComponent.prototype.createArr = function (n) {
        return this.utl_arr[Math.floor(n - 1)];
    };
    DetailComponent.prototype.hideDetail = function () {
        this.onDetailHidden.emit();
    };
    DetailComponent.prototype.addOrRemoveFavorite = function () {
        this.onFavoriteChanged.emit(this.place);
    };
    DetailComponent.prototype.checkIfInFavorite = function () {
        var _this = this;
        if (!this.favorites || !this.place)
            return false;
        var ind = this.favorites.findIndex(function (elem) {
            return elem.id === _this.place['id'];
        });
        return ind !== -1;
    };
    /**
     * Photo section
     */
    DetailComponent.prototype.splitPhotos = function (photos) {
        var _this = this;
        this.photo_col = [[], [], [], []];
        photos.forEach(function (photo, ind) {
            _this.photo_col[ind % 4].push(photo.getUrl({ maxWidth: 1600 }));
        });
    };
    /**
     * Initial section
     */
    DetailComponent.prototype.ngOnInit = function () {
        var autocomplete = new google.maps.places.Autocomplete(this.elementRef.nativeElement.querySelector('#start_loc_route'), {
            types: ["address"]
        });
    };
    DetailComponent.prototype.ngOnChanges = function (changes) {
        var _this = this;
        if (changes['display_status'] && changes['display_status']['currentValue'])
            this.display_status = changes['display_status']['currentValue'];
        if (changes['favorites'])
            this.favorites = changes['favorites']['currentValue'];
        if (changes['detail'] && changes['detail']['currentValue']) {
            this.detail = changes['detail']['currentValue'];
            console.log("Detail display changed: " + this.detail['name']);
            this.reviews = this.detail['reviews'];
            this.google_reviews = this.detail['reviews'].slice();
            this.photos = this.detail['photos'] || [];
            this.opening_hours = this.detail['opening_hours'] || [];
            this.splitPhotos(this.photos);
            this.getYelpReviews();
        }
        if (changes['place'] && changes['place']['currentValue']) {
            console.log("Focused place changed: " + this.place['name']);
            this.place = changes['place']['currentValue'];
            //Initialize map
            this.map = new google.maps.Map(this.elementRef.nativeElement.querySelector('#map'), {
                center: this.place['geometry']['location'],
                zoom: 17
            });
            this.street_view = new google.maps.StreetViewPanorama(this.elementRef.nativeElement.querySelector('#streetView'), {
                position: this.place['geometry']['location'],
                pov: {
                    heading: 165,
                    pitch: 0
                },
                zoom: 1
            });
            this.marker = new google.maps.Marker({
                map: this.map,
                position: this.place['geometry']['location']
            });
            //Get Detail
            var request = {
                placeId: this.place['place_id']
            };
            this.map_service = new google.maps.places.PlacesService(this.map);
            this.map_service.getDetails(request, function (detail, status) {
                console.log('Detail obtained: ' + detail.name);
                _this.onDetailObtained.emit(detail);
            });
            this.directionsService = new google.maps.DirectionsService();
            this.directionsDisplay = new google.maps.DirectionsRenderer();
            this.directionsDisplay.setMap(this.map);
            this.directionsDisplay.setPanel(this.elementRef.nativeElement.querySelector('#detail_routes'));
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Input */])(),
        __metadata("design:type", Object)
    ], DetailComponent.prototype, "place", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Input */])(),
        __metadata("design:type", Object)
    ], DetailComponent.prototype, "display_status", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Input */])(),
        __metadata("design:type", Object)
    ], DetailComponent.prototype, "favorites", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Input */])(),
        __metadata("design:type", Object)
    ], DetailComponent.prototype, "detail", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["L" /* Output */])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* EventEmitter */])
    ], DetailComponent.prototype, "onDetailHidden", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["L" /* Output */])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* EventEmitter */])
    ], DetailComponent.prototype, "onFavoriteChanged", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["L" /* Output */])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* EventEmitter */])
    ], DetailComponent.prototype, "onDetailObtained", void 0);
    DetailComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'app-detail',
            template: __webpack_require__("./src/app/components/detail/detail.component.html"),
            styles: [__webpack_require__("./src/app/components/detail/detail.component.css")],
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["s" /* ElementRef */],
            __WEBPACK_IMPORTED_MODULE_1__angular_forms__["a" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_3__service_request_service__["a" /* RequestService */]])
    ], DetailComponent);
    return DetailComponent;
}());



/***/ }),

/***/ "./src/app/components/search/search.component.css":
/***/ (function(module, exports) {

module.exports = "\r\n.container {\r\n  padding: 20px;\r\n  margin-top: 20px;\r\n  border: 1px solid #D0D0D0;\r\n  background-color: #f5f5f5;\r\n  border-radius: 5px;\r\n}\r\n\r\nform {\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n}\r\n\r\n.error_msg {\r\n  color: red;\r\n  font-size: 12px;\r\n  margin-bottom: 0;\r\n  margin-top: 5px;\r\n}\r\n"

/***/ }),

/***/ "./src/app/components/search/search.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container  col-md-8 col-sm-12\">\n  <form class=\"col-md-8 col-sm-12\" [formGroup]=\"form\" (submit)=\"onSearchSubmit($event)\" id=\"searchForm\">\n    <legend style=\"text-align: center\"><b>Travel and Entertainment Search</b></legend>\n    <div class=\"form-group row\">\n      <label for=\"keyword\" class=\"col-md-4\">Keyword<span style=\"color: red;\">*</span></label>\n      <div class=\"col-md-8\">\n        <input class=\"form-control\" formControlName=\"keyword\" type=\"text\" id=\"keyword\"\n               [ngClass]=\"{\n            'is-invalid': form.controls.keyword.errors && form.controls.keyword.dirty,\n            'is-valid': !form.controls.keyword.errors}\">\n        <div class=\"error_msg\" *ngIf=\"form.controls.keyword.errors && form.controls.keyword.dirty\">Please enter a keyword.</div>\n      </div>\n\n    </div>\n    <div class=\"form-group row\">\n      <label for=\"category\" class=\"col-md-4\">Category</label>\n      <div class=\"col-md-8\">\n        <select id=\"category\" class=\"form-control customer-select col-md-8\" formControlName=\"category\" >\n          <option value=\"default\" selected>Default</option>\n          <option *ngFor=\"let category of categories\" [value]=\"category\">\n            {{ capitalizeStr(category) }}\n          </option>\n        </select>\n      </div>\n    </div>\n    <div class=\"form-group row\">\n      <label for=\"distance\" class=\"col-md-4\">Distance(mile)</label>\n      <div class=\"col-md-8\">\n        <input class=\"form-control col-md-8\" formControlName=\"distance\" type=\"text\" id=\"distance\" placeholder=\"10\">\n      </div>\n    </div>\n    <div class=\"form-group row\">\n      <label class=\"col-form-label col-md-4\">From<span style=\"color: red;\">*</span></label>\n      <div class=\"col-md-8\">\n        <div class=\"form-check\">\n          <input class=\"form-check-input\" (click)=\"onRadioChange(true)\" id=\"radio1\" name=\"start_radio\" type=\"radio\" value=\"here\" checked>\n          <label class=\"form-check-label\" for=\"radio1\">Current location</label>\n        </div>\n        <div class=\"form-check\">\n          <input class=\"form-check-input\" (click)=\"onRadioChange(false)\" id=\"radio2\" name=\"start_radio\" type=\"radio\" value=\"input\">\n          <label class=\"form-check-label\" for=\"radio2\">Other, please specify:</label>\n        </div>\n        <input class=\"form-control\" formControlName=\"start_loc\" type=\"text\" placeholder=\"Enter a location\" id=\"start_loc\" disabled\n               [ngClass]=\"{\n            'is-invalid': form.controls.start_loc.errors && form.controls.start_loc.dirty,\n            'is-valid': !form.controls.start_loc.errors && !start_here}\">\n        <div class=\"error_msg\" style=\"\" *ngIf=\"form.controls.start_loc.errors && form.controls.start_loc.dirty\">Please enter a location.</div>\n      </div>\n    </div>\n    <div class=\"text-md-left text-sm-center\">\n      <button class=\"btn btn-primary mr-2\" type=\"submit\" name=\"search\" id=\"search\" [disabled]=\"!start_loc || !form.valid\"><i class=\"fas fa-search\"></i>Search</button>\n      <button class=\"btn btn-outline-secondary\" type=\"reset\" name=\"reset\" value=\"Clear\" (click)=\"clearForm()\">Clear</button>\n    </div>\n  </form>\n</div>\n\n\n"

/***/ }),

/***/ "./src/app/components/search/search.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SearchComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service_request_service__ = __webpack_require__("./src/app/service/request.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



// import { MapsAPILoader } from "@agm/core";
var SearchComponent = /** @class */ (function () {
    function SearchComponent(requestService, formBuilder, 
        // private mapsAPILoader: MapsAPILoader,
        ngZone, elementRef) {
        this.requestService = requestService;
        this.formBuilder = formBuilder;
        this.ngZone = ngZone;
        this.elementRef = elementRef;
        this.onFormSubmitted = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* EventEmitter */]();
        this.onFormCleared = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* EventEmitter */]();
        this.start_here = true;
        this.categories = ['accounting', 'airport', 'amusement_park', 'aquarium', 'art_gallery', 'atm', 'bakery', 'bank', 'bar', 'beauty_salon', 'bicycle_store', 'book_store', 'bowling_alley', 'bus_station', 'cafe', 'campground', 'car_dealer', 'car_rental', 'car_repair', 'car_wash', 'casino', 'cemetery', 'church', 'city_hall', 'clothing_store', 'convenience_store', 'courthouse', 'dentist', 'department_store', 'doctor', 'electrician', 'electronics_store', 'embassy', 'fire_station', 'florist', 'funeral_home', 'furniture_store', 'gas_station', 'gym', 'hair_care', 'hardware_store', 'hindu_temple', 'home_goods_store', 'hospital', 'insurance_agency', 'jewelry_store', 'laundry', 'lawyer', 'library', 'liquor_store', 'local_government_office', 'locksmith', 'lodging', 'meal_delivery', 'meal_takeaway', 'mosque', 'movie_rental', 'movie_theater', 'moving_company', 'museum', 'night_club', 'painter', 'park', 'parking', 'pet_store', 'pharmacy', 'physiotherapist', 'plumber', 'police', 'post_office', 'real_estate_agency', 'restaurant', 'roofing_contractor', 'rv_park', 'school', 'shoe_store', 'shopping_mall', 'spa', 'stadium', 'storage', 'store', 'subway_station', 'supermarket', 'synagogue', 'taxi_stand', 'train_station', 'transit_station', 'travel_agency', 'veterinary_care', 'zoo'];
        this.searching = false;
        this.createForm();
    }
    SearchComponent.prototype.capitalizeStr = function (str) {
        return str
            .toLowerCase()
            .split('_')
            .map(function (word) {
            return word[0].toUpperCase() + word.substring(1);
        })
            .join(' ');
    };
    SearchComponent.prototype.createForm = function () {
        this.form = this.formBuilder.group({
            keyword: ['', __WEBPACK_IMPORTED_MODULE_1__angular_forms__["d" /* Validators */].compose([
                    __WEBPACK_IMPORTED_MODULE_1__angular_forms__["d" /* Validators */].required,
                    this.keywordValidator
                ])],
            distance: [],
            start_here: [],
            start_loc: [],
            category: ['default']
        });
    };
    SearchComponent.prototype.keywordValidator = function (controls) {
        if (controls.value && controls.value.trim().length != 0) {
            return null;
        }
        else {
            return { 'keywordValidator': true };
        }
    };
    SearchComponent.prototype.startValidator = function (controls) {
        if (controls.value && controls.value.trim().length != 0) {
            return null;
        }
        else {
            return { 'startValidator': true };
        }
    };
    SearchComponent.prototype.onRadioChange = function (here) {
        this.start_here = here;
        if (here) {
            this.form.controls['start_loc'].disable();
            this.form.controls['start_loc'].clearValidators();
        }
        else {
            this.form.controls['start_loc'].enable();
            this.form.controls['start_loc'].setValidators([
                __WEBPACK_IMPORTED_MODULE_1__angular_forms__["d" /* Validators */].required,
                this.startValidator
            ]);
        }
    };
    SearchComponent.prototype.onSearchSubmit = function (e) {
        e.preventDefault();
        this.searching = true;
        var search_form = {
            keyword: this.form.get('keyword').value,
            distance: this.form.get('distance').value || 10,
            start_here: this.start_here,
            start_loc: this.start_here ? this.start_loc : this.elementRef.nativeElement.querySelector('#start_loc').value,
            category: this.form.get('category').value,
        };
        this.onFormSubmitted.emit(search_form);
    };
    SearchComponent.prototype.clearForm = function () {
        this.onFormCleared.emit();
    };
    SearchComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.requestService.getClientLocation().subscribe(function (data) {
            _this.start_loc = data['lat'] + ',' + data['lon'];
            console.log("Get client location " + _this.start_loc);
            _this.lat = data['lat'];
            _this.lng = data['lng'];
            localStorage.setItem('client_loc', _this.start_loc);
            //load Place Autocomplete
            var autocomplete = new google.maps.places.Autocomplete(_this.elementRef.nativeElement.querySelector('#start_loc'), {
                types: ["address"]
            });
        });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["L" /* Output */])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* EventEmitter */])
    ], SearchComponent.prototype, "onFormSubmitted", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["L" /* Output */])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* EventEmitter */])
    ], SearchComponent.prototype, "onFormCleared", void 0);
    SearchComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'app-search',
            template: __webpack_require__("./src/app/components/search/search.component.html"),
            styles: [__webpack_require__("./src/app/components/search/search.component.css")]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__service_request_service__["a" /* RequestService */],
            __WEBPACK_IMPORTED_MODULE_1__angular_forms__["a" /* FormBuilder */],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["J" /* NgZone */],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["s" /* ElementRef */]])
    ], SearchComponent);
    return SearchComponent;
}());



/***/ }),

/***/ "./src/app/components/table/table.component.css":
/***/ (function(module, exports) {

module.exports = ".container {\n  text-align: center;\n  margin-top: 20px;\n}\n\n.category_icon {\n  max-width: 30px;\n}\n\n.icon_btn {\n  width: 30px;\n  height: 30px;\n  border: 1px solid #D0D0D0;;\n  border-radius: 2px;\n}\n\n.icon_btn:hover {\n  background-color: #f5f5f5;\n}\n"

/***/ }),

/***/ "./src/app/components/table/table.component.html":
/***/ (function(module, exports) {

module.exports = "\n<div class=\"alert alert-warning\" role=\"alert\" *ngIf=\"!display_content || display_content.length === 0\" >\n  No records.\n</div>\n\n<div *ngIf=\"display_content && display_content.length > 0\" class=\"container col-12\" >\n\n  <button type=\"button\" class=\"btn btn-outline-secondary float-right mt-2 mb-2\" [disabled]=\"!focused_place\"\n    (click)=\"requireDetail(null)\"\n  >Details <i class=\"fas fa-angle-right\"></i></button>\n\n  <table class=\"table table-hover table-responsive\">\n    <thead>\n    <tr>\n      <th scope=\"col\">#</th>\n      <th scope=\"col\">Category</th>\n      <th scope=\"col\">Name</th>\n      <th scope=\"col\">Address</th>\n      <th scope=\"col\">Favorite</th>\n      <th scope=\"col\">Details</th>\n    </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let place of display_content; let i = index\"\n          [ngClass]=\"{'table-warning': checkIfFocused(place)}\">\n        <th scope=\"row\">{{ i+1 }}</th>\n        <td><img class=\"category_icon\" src=\"{{ place.icon }}\"></td>\n        <td>{{ place.name }}</td>\n        <td>{{ place.vicinity }}</td>\n        <td><div class=\"icon_btn clickable\" (click)=\"addOrRemoveFavorite(place)\">\n          <i *ngIf=\"!isResult\"  class=\"fas fa-trash-alt\"></i>\n          <i *ngIf=\"isResult && !checkIfInFavorite(place)\" class=\"far fa-star\"></i>\n          <i *ngIf=\"isResult && checkIfInFavorite(place)\" class=\"fas fa-star\" style=\"color: gold\"></i>\n        </div></td>\n        <td><div class=\"icon_btn clickable\" (click)=\"requireDetail(place)\"><i class=\"fas fa-angle-right\"></i></div></td>\n      </tr>\n    </tbody>\n  </table>\n\n</div>\n\n\n\n\n"

/***/ }),

/***/ "./src/app/components/table/table.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TableComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var TableComponent = /** @class */ (function () {
    function TableComponent() {
        this.onDetailRequired = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* EventEmitter */]();
        this.onFavoriteChanged = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* EventEmitter */]();
        this.onNextPageRequired = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* EventEmitter */]();
    }
    TableComponent.prototype.ngOnChanges = function (changes) {
        //console.log(changes);
        if (changes['display_content'])
            this.display_content = changes['display_content']['currentValue'];
        if (changes['favorites'])
            this.favorites = changes['favorites']['currentValue'];
        if (changes['focused_place'])
            this.focused_place = changes['focused_place']['currentValue'];
    };
    TableComponent.prototype.checkIfFocused = function (place) {
        if (!this.focused_place)
            return false;
        return place.id === this.focused_place.id;
    };
    TableComponent.prototype.checkIfInFavorite = function (place) {
        if (!this.favorites)
            return false;
        var ind = this.favorites.findIndex(function (elem) {
            return elem.id === place.id;
        });
        return ind !== -1;
    };
    TableComponent.prototype.addOrRemoveFavorite = function (place) {
        this.onFavoriteChanged.emit(place);
    };
    TableComponent.prototype.requireDetail = function (place) {
        console.log("Detail button clicked: " + (place ? place.name : 'null'));
        this.onDetailRequired.emit(place);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Input */])(),
        __metadata("design:type", Object)
    ], TableComponent.prototype, "display_content", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Input */])(),
        __metadata("design:type", Object)
    ], TableComponent.prototype, "favorites", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Input */])(),
        __metadata("design:type", Object)
    ], TableComponent.prototype, "focused_place", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Input */])(),
        __metadata("design:type", Object)
    ], TableComponent.prototype, "isResult", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["L" /* Output */])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* EventEmitter */])
    ], TableComponent.prototype, "onDetailRequired", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["L" /* Output */])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* EventEmitter */])
    ], TableComponent.prototype, "onFavoriteChanged", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["L" /* Output */])(),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* EventEmitter */])
    ], TableComponent.prototype, "onNextPageRequired", void 0);
    TableComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'app-table',
            template: __webpack_require__("./src/app/components/table/table.component.html"),
            styles: [__webpack_require__("./src/app/components/table/table.component.css")],
        }),
        __metadata("design:paramtypes", [])
    ], TableComponent);
    return TableComponent;
}());



/***/ }),

/***/ "./src/app/service/request.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RequestService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var RequestService = /** @class */ (function () {
    function RequestService(http) {
        this.http = http;
        this.server_url = 'http://localhost:8888';
        this.ip_api_url = "http://ip-api.com/json/";
        this.NEARBY_API = 'https://maps.googleapis.com/maps/api/place/nearbysearch/json?';
        this.GOOGLE_KEY = 'AIzaSyBN20SIlF5X2epJryqAvSNXBLpifLKu5fM';
        this.DETAIL_API = 'https://maps.googleapis.com/maps/api/place/details/json?';
        this.PLACE_PHOTO = 'https://maps.googleapis.com/maps/api/place/photo?';
    }
    // TODO: change post to get
    RequestService.prototype.searchPlaces = function (form_data) {
        // keyword, category, start_loc, start_here, distance, pageToken
        var url = this.server_url + '/search?'
            + 'keyword=' + form_data.keyword.replace(/\s+/gi, '_')
            + '&category=' + form_data.category
            + '&start_loc=' + form_data.start_loc.replace(/\s+/gi, '+')
            + '&start_here=' + form_data.start_here
            + '&distance=' + form_data.distance;
        console.log(url);
        this.httpOption = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]({
            'Content-Type': 'application/json',
        });
        return this.http.get(url, this.httpOption);
    };
    RequestService.prototype.getNextPage = function (pageToken) {
        this.httpOption = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]({
            'Content-Type': 'application/json',
        });
        var url = this.server_url + '/page?pageToken=' + pageToken;
        return this.http.get(url, this.httpOption);
    };
    RequestService.prototype.getYelp = function (data) {
        var url = this.server_url + '/yelp?'
            + 'name=' + data.name.replace(/\s+/gi, '+')
            + '&city=' + data.city.replace(/\s+/gi, '+')
            + '&country=' + data.country
            + '&state=' + data.state
            + '&address=' + data.address.replace(/\s+/gi, '+');
        console.log(url);
        this.httpOption = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]({
            'Content-Type': 'application/json',
        });
        return this.http.get(url, this.httpOption);
    };
    RequestService.prototype.getClientLocation = function () {
        this.httpOption = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]({
            'Content-Type': 'application/json',
        });
        return this.http.get(this.ip_api_url, this.httpOption);
    };
    RequestService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["x" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_common_http__["a" /* HttpClient */]])
    ], RequestService);
    return RequestService;
}());



/***/ }),

/***/ "./src/environments/environment.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return environment; });
// The file contents for the current environment will overwrite these during build.
// The build system defaults to the dev environment which uses `environment.ts`, but if you do
// `ng build --env=prod` then `environment.prod.ts` will be used instead.
// The list of which env maps to which file can be found in `.angular-cli.json`.
var environment = {
    production: false
};


/***/ }),

/***/ "./src/main.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__ = __webpack_require__("./node_modules/@angular/platform-browser-dynamic/esm5/platform-browser-dynamic.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__app_app_module__ = __webpack_require__("./src/app/app.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__environments_environment__ = __webpack_require__("./src/environments/environment.ts");




if (__WEBPACK_IMPORTED_MODULE_3__environments_environment__["a" /* environment */].production) {
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_9" /* enableProdMode */])();
}
Object(__WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__["a" /* platformBrowserDynamic */])().bootstrapModule(__WEBPACK_IMPORTED_MODULE_2__app_app_module__["a" /* AppModule */])
    .catch(function (err) { return console.log(err); });


/***/ }),

/***/ 0:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__("./src/main.ts");


/***/ })

},[0]);
//# sourceMappingURL=main.bundle.js.map